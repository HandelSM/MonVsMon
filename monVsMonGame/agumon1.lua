function agumonLoad()
  
	damageFont = love.graphics.newFont(20)

    agumonCabecadaD = {}
	agumonCabecadaD[1] = love.graphics.newImage("aguimages/aguCabecadaD.png")
  
	

	agumonCabecadaE = {}
	agumonCabecadaE[1] = love.graphics.newImage("aguimages/aguCabecadaE.png")
	

	agumonCabecadaC = {}
	agumonCabecadaC[1] = love.graphics.newImage("aguimages/aguCabecadaC.png")
  


	agumonCabecadaB = {}
	agumonCabecadaB[1] = love.graphics.newImage("aguimages/aguCabecadaB.png")
  


	agumonCabecadaC_E = {}
	agumonCabecadaC_E[1] = love.graphics.newImage("aguimages/aguCabecadaC_E.png")


	agumonCabecadaC_D = {}
	agumonCabecadaC_D[1] = love.graphics.newImage("aguimages/aguCabecadaC_D.png")

	agumonCabecadaB_E = {}
	agumonCabecadaB_E[1] = love.graphics.newImage("aguimages/aguCabecadaB_E.png")
	

	agumonCabecadaB_D = {}
	agumonCabecadaB_D[1] = love.graphics.newImage("aguimages/aguCabecadaB_D.png")

  
  agumonAndandoD = {}
	agumonAndandoD[1] = love.graphics.newImage("aguimages/aguAndandoD2.png")
	agumonAndandoD[2] = love.graphics.newImage("aguimages/aguAndandoD1.png")
	agumonAndandoD[3] = love.graphics.newImage("aguimages/aguAndandoD2.png")

	agumonAndandoE = {}
	agumonAndandoE[1] = love.graphics.newImage("aguimages/aguAndandoE2.png")
	agumonAndandoE[2] = love.graphics.newImage("aguimages/aguAndandoE1.png")
	agumonAndandoE[3] = love.graphics.newImage("aguimages/aguAndandoE2.png")

	agumonAndandoC = {}
	agumonAndandoC[1] = love.graphics.newImage("aguimages/aguAndandoC2.png")
	agumonAndandoC[2] = love.graphics.newImage("aguimages/aguAndandoC1.png")
	agumonAndandoC[3] = love.graphics.newImage("aguimages/aguAndandoC2.png")

	agumonAndandoB = {}
	agumonAndandoB[1] = love.graphics.newImage("aguimages/aguAndandoB2.png")
	agumonAndandoB[2] = love.graphics.newImage("aguimages/aguAndandoB1.png")
	agumonAndandoB[3] = love.graphics.newImage("aguimages/aguAndandoB2.png")

	agumonAndandoC_E = {}
	agumonAndandoC_E[1] = love.graphics.newImage("aguimages/aguAndandoC_E2.png")
	agumonAndandoC_E[2] = love.graphics.newImage("aguimages/aguAndandoC_E1.png")
	agumonAndandoC_E[3] = love.graphics.newImage("aguimages/aguAndandoC_E2.png")

	agumonAndandoC_D = {}
	agumonAndandoC_D[1] = love.graphics.newImage("aguimages/aguAndandoC_D2.png")
	agumonAndandoC_D[2] = love.graphics.newImage("aguimages/aguAndandoC_D1.png")
	agumonAndandoC_D[3] = love.graphics.newImage("aguimages/aguAndandoC_D2.png")

	agumonAndandoB_E = {}
	agumonAndandoB_E[1] = love.graphics.newImage("aguimages/aguAndandoB_E2.png")
	agumonAndandoB_E[2] = love.graphics.newImage("aguimages/aguAndandoB_E1.png")
	agumonAndandoB_E[3] = love.graphics.newImage("aguimages/aguAndandoB_E2.png")

	agumonAndandoB_D = {}
	agumonAndandoB_D[1] = love.graphics.newImage("aguimages/aguAndandoB_D2.png")
	agumonAndandoB_D[2] = love.graphics.newImage("aguimages/aguAndandoB_D1.png")
	agumonAndandoB_D[3] = love.graphics.newImage("aguimages/aguAndandoB_D2.png")
  
  
	agumonD = {}
	agumonD[1] = love.graphics.newImage("aguimages/aguD1.png")
	agumonD[2] = love.graphics.newImage("aguimages/aguD2.png")
	agumonD[3] = love.graphics.newImage("aguimages/aguD3.png")

	agumonE = {}
	agumonE[1] = love.graphics.newImage("aguimages/aguE1.png")
	agumonE[2] = love.graphics.newImage("aguimages/aguE2.png")
	agumonE[3] = love.graphics.newImage("aguimages/aguE3.png")

	agumonC = {}
	agumonC[1] = love.graphics.newImage("aguimages/aguC1.png")
	agumonC[2] = love.graphics.newImage("aguimages/aguC2.png")
	agumonC[3] = love.graphics.newImage("aguimages/aguC3.png")

	agumonB = {}
	agumonB[1] = love.graphics.newImage("aguimages/aguB1.png")
	agumonB[2] = love.graphics.newImage("aguimages/aguB2.png")
	agumonB[3] = love.graphics.newImage("aguimages/aguB3.png")

	agumonC_E = {}
	agumonC_E[1] = love.graphics.newImage("aguimages/aguC_E1.png")
	agumonC_E[2] = love.graphics.newImage("aguimages/aguC_E2.png")
	agumonC_E[3] = love.graphics.newImage("aguimages/aguC_E3.png")

	agumonC_D = {}
	agumonC_D[1] = love.graphics.newImage("aguimages/aguC_D1.png")
	agumonC_D[2] = love.graphics.newImage("aguimages/aguC_D2.png")
	agumonC_D[3] = love.graphics.newImage("aguimages/aguC_D3.png")

	agumonB_E = {}
	agumonB_E[1] = love.graphics.newImage("aguimages/aguB_E1.png")
	agumonB_E[2] = love.graphics.newImage("aguimages/aguB_E2.png")
	agumonB_E[3] = love.graphics.newImage("aguimages/aguB_E3.png")

	agumonB_D = {}
	agumonB_D[1] = love.graphics.newImage("aguimages/aguB_D1.png")
	agumonB_D[2] = love.graphics.newImage("aguimages/aguB_D2.png")
	agumonB_D[3] = love.graphics.newImage("aguimages/aguB_D3.png")

	agumons = {}
	
	timerLim = love.math.random(4,20)
	timer = 20

	x = {}
	x[1] = 628
	x[2] = 831
	x[3] = 1034
	xrandom = love.math.random(1,3)
  
  
  foiLim = 0.1

end

function agumon_generate(dt)

	timer = timer + dt

	if timer > timerLim then
		agumon_spawn(x[xrandom], 161, love.math.random(1, 5))

		timerLim = love.math.random (3,5)
		timer = 0
		xrandom = love.math.random(1,3)
		map.enemiesSpawned = map.enemiesSpawned + 1;
	end
end

function agumon_spawn(x, y, lv)
	table.insert(agumons, 
    {
      x=x,
      y=y,
      xSpeed = 500,
      ySpeed = 500,
      xvel=0,
      yvel=0,
      animtimer = 0,
      pnum = 1,
      health = lv * 50 + 50,
      image = agumonB[1],
      foi = 0,
      para = 0,
      paraLim = 0,
      andar = true,
      dirX = 1,
      dirY = 1,
      damage = lv * 5 + 10,
      orbes = lv * 50 + 50,
      hit = false,
      rDamage = 0,
      timeRDamage = 0,
      level = lv,
      orbFoi = 0
    });
end

function chooseDirection(v)

  if pikachu.y + 10 < v.y then
    v.dirY = -1;
  else     
    if pikachu.y - 10 > v.y then
      v.dirY = 1;
      
    else
      v.dirY = 0;
    end
  end
  if pikachu.x + 10 < v.x then
    v.dirX = -1;
  else
    if pikachu.x - 10 > v.x then
      v.dirX = 1;
    else
      v.dirX = 0;
    end
  end
  
end

function chooseSpeed( v )
	dist = mod(pikachu.x, pikachu.y,v.x,v.y);

	if (dist > 200) then
		if v.dirX == 1 then
			if v.dirY == 0 then
				v.image = agumonAndandoD[v.pnum];
			else
				if v.dirY == 1 then
					v.image = agumonAndandoB_D[v.pnum];
				else
					v.image = agumonAndandoC_D[v.pnum];
				end
			end
		else
			if v.dirX == -1 then
				if v.dirY == 0 then
					v.image = agumonAndandoE[v.pnum];
				else
					if v.dirY == 1 then
						v.image = agumonAndandoB_E[v.pnum];
					else
						v.image = agumonAndandoC_E[v.pnum];
					end
				end
			else
				if v.dirY == -1 then
					v.image = agumonAndandoC[v.pnum];
				else
					v.image = agumonAndandoB[v.pnum];
				end
			end
		end
		v.xSpeed = 500;
		v.ySpeed = 500;
	else
		if(dist > 100) then
			if v.dirX == 1 then
				if v.dirY == 0 then
					v.image = agumonD[v.pnum];
				else
					if v.dirY == 1 then
						v.image = agumonB_D[v.pnum];
					else
						v.image = agumonC_D[v.pnum];
					end
				end
			else
				if v.dirX == -1 then
					if v.dirY == 0 then
						v.image = agumonE[v.pnum];
					else
						if v.dirY == 1 then
							v.image = agumonB_E[v.pnum];
						else
							v.image = agumonC_E[v.pnum];
						end
					end
				else
					if v.dirY == -1 then
						v.image = agumonC[v.pnum];
					else
						v.image = agumonB[v.pnum];
					end
				end
			end
			v.xSpeed = 1500;
			v.ySpeed = 1500;

		else
			if v.dirX == 1 then
				if v.dirY == 0 then
					v.image = agumonCabecadaD[1];
				else
					if v.dirY == 1 then
						v.image = agumonCabecadaB_D[1];
					else
						v.image = agumonCabecadaC_D[1];
					end
				end
			else
				if v.dirX == -1 then
					if v.dirY == 0 then
						v.image = agumonCabecadaE[1];
					else
						if v.dirY == 1 then
							v.image = agumonCabecadaB_E[1];
						else
							v.image = agumonCabecadaC_E[1];
						end
					end
				else
					if v.dirY == -1 then
						v.image = agumonCabecadaC[1];
					else
						v.image = agumonCabecadaB[1];
					end
				end
			end
			v.xSpeed = 3000;
			v.ySpeed = 3000;
			v.andar = false;
		end
	end
end

function agumonMove(dt)
	for i,v in ipairs(agumons) do


		if(v.para < 0.7)then
		    if(v.andar)then
		    	chooseSpeed(v);
		    	chooseDirection(v)
		    	v.animtimer = v.animtimer + dt;
				if v.animtimer > 0.14 then
					if v.pnum < 3 then
						v.pnum = v.pnum + 1
					else
						v.pnum = 2
					end
					v.animtimer = 0
				end
		    else
		    	v.para = v.para + dt;
			end
		else
			chooseSpeed(v);
			v.ySpeed = 0;
			v.xSpeed = 0;
			if(v.paraLim > 1)then
				v.andar = true;
				v.para = 0;
				v.paraLim = 0;
			else
				v.paraLim = v.paraLim + dt;
			end
			
		end

		v.x = v.x + v.xvel * dt * v.dirX;
		v.y = v.y + v.yvel * dt * v.dirY;
		v.xvel = v.xvel + v.xSpeed * dt;
		v.yvel = v.yvel + v.ySpeed * dt;
		v.xvel = v.xvel * (1-math.min(dt*map.xFriction,1));
		v.yvel = v.yvel * (1-math.min(dt*map.yFriction,1));
		
		if (v.hit) then
			if(pikachu.rDamage > 0)then
				if(pikachu.timeRecoil < 0.7)then
					
					pikachu.xvelocity = pikachu.xvelocity + 2500 * dt;
					pikachu.yvelocity = pikachu.yvelocity + 2500 * dt;
					pikachu.xvelocity = pikachu.xvelocity * (1-math.min(dt*map.xFriction,1));
					pikachu.yvelocity = pikachu.yvelocity * (1-math.min(dt*map.yFriction,1));
					pikachu.x = pikachu.x + pikachu.xvelocity * dt * pikachu.dirX;
					pikachu.y = pikachu.y + pikachu.yvelocity * dt * pikachu.dirY;
					
					pikachu.timeRecoil = pikachu.timeRecoil + dt;
					pikachu.move = false;
					pikachu.life = pikachu.life - v.damage * dt;
					if(pikachu.life <= 0)then
						bla = gameState;
						lose.gameState = bla;
						gameState = 0;
						pikachu.timeRecoil = 0;
						pikachu.rDamage = 0;
						pikachu.stamina = 196;
						pikachu.move = true;
						love.audio.stop(map.song);
						love.audio.stop(map3.song);
					end
				else
					pikachu.timeRecoil = 0;
					pikachu.rDamage = 0;
					v.hit = false;
					pikachu.xvelocity = 0;
					pikachu.yvelocity = 0;
					pikachu.move = true;
				end
			end
		end

		if(colide(v.x, v.y, v.image:getWidth() - 5, v.image:getHeight() - 5, pikachu.x, pikachu.y, pikachu.image:getWidth(), pikachu.image:getHeight())) then
			v.hit = true;
			v.para = 0.7;
			pikachu.move = false;
			pikachu.rDamage = 50;
			pikachu.dirX = v.dirX;
			pikachu.dirY = v.dirY;
  		end
	end
end

function agumon_draw()
	for i,v in ipairs(agumons) do
	    if v.rDamage > 0 then
	      love.graphics.setFont(damageFont)
	      love.graphics.setColor(255,0,0)
	      love.graphics.print(v.rDamage, v.x, v.y - 20)
	    end
	    
	    love.graphics.setColor(255,255,255)
	    love.graphics.draw(v.image, v.x, v.y)
	end
end